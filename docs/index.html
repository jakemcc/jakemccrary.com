
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="iem7"><![endif]-->
<!--[if lt IE 9]><html class="lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html lang="en"><!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <title>Jake McCrary</title>
    <meta name="author" content="Jake McCrary">

    
    
    
    

    <meta itemprop="name" content="Jake McCrary" />
    <meta itemprop="description" content="Home of Jake McCrary's writing on software, teams, and technology." />

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@jakemcc" />
    <meta name="twitter:title" content="Jake McCrary" />
    <meta name="twitter:description" content="Home of Jake McCrary's writing on software, teams, and technology." />
    <meta name="twitter:creator" content="@jakemcc" />
    <meta name="twitter:image" content="https://jakemccrary.com/images/jake-surprised-eyes-brighter.jpg" />

    <!-- Open Graph data -->
    <meta property="og:site_name" content="The Blog of Jake McCrary" />
    <meta property="og:url" content="https://jakemccrary.com/" />
    <meta property="og:title" content="Jake McCrary" />
    <meta property="og:description" content="Home of Jake McCrary's writing on software, teams, and technology." />
    <meta property="og:image" content="https://jakemccrary.com/images/jake-surprised-eyes-brighter.jpg" />
    
    

    <meta name="description" content="Home of Jake McCrary's writing on software, teams, and technology.">

    

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="https://jakemccrary.com/">
    <link href="/favicon.png" rel="icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="http://feeds.feedburner.com/JakeMccrarysMusings" rel="alternate" title="Jake McCrary" type="application/atom+xml">
    <link href="https://jakemccrary.com/feed.json" rel="alternate" title="Jake McCrary" type="application/json">

    <!-- iOS scaling bug fix Rewritten version By @mathias, @cheeaun and @jdalton Source url: https://gist.github.com/901295 -->
    <script type="text/javascript">
     (function(doc) {
       var addEvent = 'addEventListener',
           type = 'gesturestart',
           qsa = 'querySelectorAll',
           scales = [1, 1],
           meta = qsa in doc ? doc[qsa]('meta[name=viewport]') : [];
       function fix() {
         meta.content = 'width=device-width,minimum-scale=' + scales[0] + ',maximum-scale=' + scales[1];
         doc.removeEventListener(type, fix, true);
       }
       if ((meta = meta[meta.length - 1]) && addEvent in doc) {
         fix();
         scales = [0.25, 1.6];
         doc[addEvent](type, fix, true);
       }
     }(document));
    </script>
    
<script>
 var origin = window.location.origin;
 if (!origin) {
   origin = window.location.protocol + '//' + window.location.hostname + (window.location.port ? (':' + window.location.port) : '');
 }
 if (origin.indexOf('localhost') === -1) {
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-19834208-2', 'auto');
   ga('send', 'pageview');
 }
</script>


  </head>

<body  >
  <header role="banner"><hgroup>
  <h1><a href="/">Jake McCrary</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul role=main-navigation>
  <li><a href="/">Articles</a></li>
  <li><a href="/adventures/">Adventures</a></li>
  <li><a href="/about.html">About</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
  <li><a href="http://feeds.feedburner.com/JakeMccrarysMusings" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
</ul>

  <form action="https://google.com/search" method="get">
    <fieldset role="search">
      <input type="hidden" name="sitesearch" value="jakemccrary.com">
      <input class="search" type="text" name="q" placeholder="Search"/>
    </fieldset>
  </form>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/03/16/a-retrospective-format/">A retrospective format for remote or co-located teams</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2020-03-16T12:52:00-05:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2020</span></span> <span class='time'>12:52 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://retrospectivewiki.org/index.php?title=Agile_Retrospective_Resource_Wiki">Retrospectives</a> are a useful type of meeting to have periodically with your team.
There are many different <a href="https://retrospectivewiki.org/index.php?title=Retrospective_Plans">formats</a> of retrospectives.</p>

<p>One of them can be summarized in the following steps:</p>

<ol>
<li>Gather the team together</li>
<li>Set the stage</li>
<li>Brainstorm answers to the questions <code>What went well?</code> and <code>What needs improvement?</code></li>
<li>Discuss the answers</li>
</ol>


<p>Let&rsquo;s talk about each step and see how each works with an co-located or remote team.</p>

<h3>Step 1: Gather the team</h3>

<p>This step is self explanatory.
If you are an in-person team, then this is gathering everyone together in a room for some allotted about of time.
If you are a remote team, or have remote folks on your team, then this is gathering everyone together in a video conference.</p>

<p>Preferably everyone in the retro is communicating in same way.
This means if <strong>anyone</strong> is remote, it is preferable that <strong>everyone</strong> join the video conference from their own computer instead of using a single screen and video from a shared conference room.
My earlier article about <a href="/blog/2016/06/28/seven-tips-for-successful-remote-meetings/">tips for remote meetings</a> goes into more details on this topic.</p>

<p>Everyone using the same communication method puts everyone on the same page and dramatically improves the experience for the remote folks.
With a mixed group, we&rsquo;ll want to use some remote collaboration tools anyway, so it is useful for everyone to have their own computer with them.
They might as well use it for video communication as well.</p>

<h3>Step 2: Set the stage</h3>

<p>This part doesn&rsquo;t differ between an entirely in-person meeting, mixed, or entirely remote meeting.</p>

<p>Take the time to set the stage for the meeting.
Remind everyone that we&rsquo;re here to improve and to listen with an open mind.
Remind everyone to try to not make things personal and not take things personally.
This is a good time to read the <a href="https://retrospectivewiki.org/index.php?title=The_Prime_Directive">Prime Directive</a>.</p>

<p>This is also a good time to set the boundaries of the discussion.
What is the retrospective covering?
Is it covering the last few weeks?
The last quarter?
The new working from home experience?
Pick a topic so everyone in the meeting focuses on the same things.</p>

<h3>Step 3: Answer the questions</h3>

<p>In this step, we will answer the questions <code>What went well?</code> and <code>What needs improvement?</code> and use those answers for discussion in the remainder of the meeting. Timebox this step to 5 to 10 minutes.</p>

<p>In an in-person setting, this is often done through the use of <a href="https://www.post-it.com/3M/en_US/post-it/products/~/Post-it-Products/Notes/Super-Sticky/?N=4327+5927575+7568222+3294529207+3294857497&amp;rt=r3">Post-it</a> notes.
Give each attendee a marker and a stack of notes and have each person write down as many answers as they can come up with, one per post-it note, to the two questions.
Dedicate a section of a whiteboard or wall for each question and have people bring the generated answers to the respective sections.
Try to group the answers by topics.</p>

<p>With a remote meeting, you don&rsquo;t have the physical whiteboard and cards.
That is perfectly fine!
Once you figure out your remote collaboration tools, this part of the retrospective isn&rsquo;t difficult.</p>

<p>I&rsquo;ve mostly done remote retrospectives using <a href="https://trello.com/">Trello</a>.
Trello works great for this as it is multi-user and does a great job of presenting lists to a group.
Here is how previous teams I&rsquo;ve worked with setup Trello for remote retrospectives.</p>

<p>First, make a Trello board and make sure everyone has an invite to view and edit the board.
Second, add the following columns to the board.</p>

<p><img src="/images/remote-retros/retros-first-three-columns.png" title="First three columns before any cards" alt="First three columns before any cards" /></p>

<p>The first column is for Step 2 of the process and is there to remind everyone why we&rsquo;re all spending time in this meeting.</p>

<p>Columns two and three are used in this step.
Have attendees add cards to these columns as they come up with answers
If anyone notices duplicates during this time frame, move them near each other by dragging them up or down in the column.
If you notice someone else has already put a card that you&rsquo;d put up there, don&rsquo;t bother putting it down again (this differs from the in-person meeting).</p>

<p><img src="/images/remote-retros/first-three-before-voting.png" alt="First three columns with cards before voting" /></p>

<h4>[remote only] Step 3.5: Vote on cards</h4>

<p>This step sneaks into the remote retrospective and is missing from the in-person retro.
In the in-person retro, duplication of post-it notes serves as this voting stage.</p>

<p>Once all the answers have been generated, or time is up, it is time to vote on what will be discussed in the next step.
Only have people vote on the <code>What needs improvement?</code> answers.</p>

<p>There are at least two ways of doing this in Trello but my favorite is having attendees hover their mouse cursor over the card and then hit <code>space bar</code><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.
This sticks their avatar on the card (in Trello speak, I believe this is called joining a card).
You can either restrict folks to a certain number of votes, say 3, or let them go wild and vote as many times as they want.
I haven&rsquo;t found the outcomes to be much different and find infinite votes more fun.</p>

<p><img src="/images/remote-retros/first-three-columns-with-votes.png" alt="First three columns with votes" /></p>

<p>Once voting is finished (again, timer or when it seems to have reached an end), have one person sort the cards by number of votes with the highest votes at the top of the list.</p>

<p><img src="/images/remote-retros/first-three-columns-votes-sorted.png" alt="First three columns with cards sorted by votes" /></p>

<h3>Step 4: Discuss the answers</h3>

<p>With in-person or remote retros, go over the answers to <code>What went well?</code> first.
This starts the discussion with positive feelings.
This part usually goes pretty fast as we&rsquo;re just celebrating wins and not having a long discussions about them.</p>

<p>Next, start discussing the answers to <code>What needs improvement?</code></p>

<p>For each topic being discussed, set a five minute timer.
At the end of the five minutes, do a quick poll of the attendees on if the topic should be continued or not.
If it should be continued, start a three minute timer and continue discussion.
At the end of those three minutes, repeat the vote for continuing or not.</p>

<p>Throughout the discussion, try to be mindful of people dominating conversation and give everyone a chance to voice their thoughts.
Try to figure out some next steps to take to actually start making improvements on what needs to be improved.</p>

<p>The above is generic advice for remote or in-person retros.
When you&rsquo;re running a remote retro using Trello, it can be useful to do the following as well.</p>

<p>You should add two more columns, <code>Next Steps</code> and <code>Discussed</code>, to the right of the <code>What needs improvement?</code> column.</p>

<p><img src="/images/remote-retros/last-three-columns-before-discussion.png" alt="Additional columns added to board" /></p>

<p>Since your cards are sorted in the <code>What needs improvement?</code> column, you&rsquo;ll always be talking about the top card.
As discussion finishes, move it from the top of the <code>What needs improvement?</code> column into the <code>Discussed</code> column.
As <code>Next Steps</code> are discovered, add cards to the <code>Next Steps</code> column and assign the people responsible for following up to the card.
Below is an example of those three columns after discussing two cards.</p>

<p><img src="/images/remote-retros/final-three-columns-post-discussion.png" alt="Final state of last three columns" /></p>

<p>When voting on continuing discussion or not, it can be useful to have a hand signal for taking the vote and for continuing or ending the discussion. We&rsquo;d do a quick thumbs up or thumbs down and if half the team wants to keep going then we&rsquo;d seamlessly start the next timer.</p>

<h2>Conclusion</h2>

<p>Retrospectives can be a very handy tool for a team&rsquo;s continuous improvement.
If time isn&rsquo;t provided for reflecting, then reflecting does not happen and this makes improving harder.</p>

<p>Remote retrospectives provide a challenge since most of us only have experience using physical sticky notes or whiteboards for collecting answers.
We don&rsquo;t need to recreate the same form factor for remote retrospectives.
Using remote collaboration tools, such as Trello, that don&rsquo;t recreate the sticky-note-on-wall experience can lead to initial confusion but, once familiar with them, the experience is pleasant and allows for greater participation.</p>

<p>How is participation increased?
Well, in an in-person retrospective you often are unable to read what everyone else has stuck up on the wall because of physical distance.
With a remote retro, you&rsquo;re able to read every answer added to the lists.</p>

<p>Don&rsquo;t be afraid of running a remote retrospective.
They can be incredibly useful.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>The alternative method I&rsquo;m aware of is to use a Trello Power-up to enable voting on cards. But why bother doing this when you can just stick faces on cards.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/03/10/more-working-from-home-tips/">More working from home tips</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2020-03-10T12:42:00-05:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2020</span></span> <span class='time'>12:42 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>With the the new coronavirus spreading through the world, more people are either choosing or are being forced to work from home.
From 2013 to 2018, the companies I worked for were entirely remote.
For the rest of my professional career, 2007 to 2013 and 2018 to now (March 2020), I&rsquo;ve also frequently worked from home.</p>

<p>I&rsquo;ve managed to be very effective at it and I think others can be as well.</p>

<p>After years of working in an office, transitioning to working from home isn&rsquo;t easy.
I had difficulty with the transition and people I&rsquo;ve mentored have as well.
I think most people will be able to be effective at home, assuming their workplace is supportive, if they try to get better at it.
With a supportive company or team, once you get used to working from home you probably find yourself getting more done.</p>

<p>The key word in the sentence &ldquo;I&rsquo;m working from home&rdquo; is <strong>working</strong>.
You are going to be <strong>working</strong> where you spend a lot of your non-work time.
This can be a difficult mental transition.
Physically switching to an office environment can help switch your brain into work mode and now you no longer have that.
Don&rsquo;t worry, it might feel rough in the beginning but you will get better at it.</p>

<p>I&rsquo;ve written more articles about working <a href="/blog/categories/remote/">remotely</a> and I&rsquo;d recommend you read those as well.
This article is primarily targeted at the person not making a permanent change in their work from home status.
My <a href="/blog/2017/10/31/a-guide-to-distributed-work/">Guide to Distributed Work</a> is a bit more targeted at someone that is permanently choosing to work at home or in a position of power to influence work from home policies at a company.
I&rsquo;d recommend that you read it as well as many of the subjects it talks about are generally applicable.
It steps through some of the pros and cons of remote work and links to other writing on the topic.</p>

<p>Below is a hodgepodge of tips for working from home.</p>

<h3>Setup a home workspace</h3>

<p>In my years of remote work, I&rsquo;ve always managed to have a <a href="/blog/2015/03/31/my-home-work-space/">dedicated space</a> for work.
In some apartments, this was a corner of a room where I put a desk and faced a wall.
In other apartments, I&rsquo;ve been privileged enough to have a dedicated room for an office.</p>

<p>If you aren&rsquo;t planning on working from home permanently, or very frequently, then you probably don&rsquo;t want to spend a significant amount of money setting up a work area.
This probably means you don&rsquo;t want to find a home with a dedicated office and you may not want or be able to dedicate a portion of a room to a desk<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</p>

<p>Whatever your living arrangement is, I&rsquo;d encourage you to figure a way to have a regular spot to work at while you are working.
Having a regular spot to work from will help your brain turn on and off from work mode.</p>

<p>Setting up a home workspace can be as low cost as using a <a href="https://www.amazon.com/Folding-Holder-Height-Adjustments-Original/dp/B01LZPMFW9/">tv tray</a> or <a href="https://www.amazon.com/Lifetime-80251-Adjustable-Folding-Granite/dp/B0074HYWFG/">folding table</a><sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> with a chair.
Your setup could be as elaborate as getting a height adjustable desk with large monitors.
It could be something else entirely.</p>

<p>Find something that works for you and stick with it.</p>

<p>Beyond a dedicated space to work, make sure you have a reliable internet connection.
If you can, use Ethernet as it is generally better than WiFi.
I&rsquo;ve never had a situation where I could use Ethernet and have found that having a good router is enough to make my WiFi reliable.</p>

<h3>Discuss boundaries and expectations with your cohabitants</h3>

<p>If you live with others that will be at home while you need to work, you should have a discussion with them about boundaries.
You are at home to do work and that expectation needs to be set.
You may be able to do some household chores during breaks or take other breaks with cohabitants but everyone in your living area needs to understand you are at home to work.</p>

<p>If you have children that might have a particularly hard time with this, it can be useful to use some sort of physical signaling device (examples: a closed door, a light bulb being on, a closed curtain, headphones on) that you should not be interrupted.</p>

<h3>Minimize distractions</h3>

<p>This one is obvious but try to minimize distractions.
Don&rsquo;t try to sit on your couch with the TV on and do work.
You won&rsquo;t be doing great work.</p>

<p>If your home is loud and you have difficulty in a loud space, wear some ear plugs or noise canceling headphones.</p>

<p>If cohabitants are distractions, refer to the above section and have that discussion with them about needing space.
One technique for dealing with interrupting cohabitants is to schedule time throughout your day for them.
You can use these scheduled times as breaks through out your working day.</p>

<p>If you try to get some household chores done while working at home, make sure you schedule time for doing them.
This could be putting the time on your calendar or simply setting a timer when taking a break.
Regardless of the method, when your time is up, get back to work.</p>

<p>I&rsquo;ve often found that finishing a short, simple household task can actually jump-start finishing more complicated work tasks.
Using that momentum from the household chore can make accomplishing work tasks easier.</p>

<h3>Having difficulty starting a work task?</h3>

<p>Sometimes it is hard to start a task.
It can be especially hard if you are new to working at home and not used to working in your environment.</p>

<p>One technique I&rsquo;ve found useful is the Pomodoro technique.
The steps to this technique are below.</p>

<ol>
<li>Pick a task.</li>
<li>Set and start a timer (usually for 25 minutes).</li>
<li>Focus intensely on the task for the duration of the timer.</li>
<li>Make a mark on a piece of paper</li>
<li>If you have fewer than four marks on the paper, take a 5 minute break and then go back to step 2.</li>
<li>If you have four marks on the paper, then take a 15 minute break and go back to step 1.</li>
</ol>


<p>I don&rsquo;t follow those steps strictly and mostly use the trick of setting a timer for focused work.
If at the end of the timer I feel like continuing, I&rsquo;ll reset the timer.
If I need a break, I&rsquo;ll set the timer for a short period of time and take a break.</p>

<p>It was mentioned above, but sometimes doing a small, easy task can jump-start knocking out TODOs.
This small, easy task could be something work related or some simple chore around the house.</p>

<h3>Be mindful of your communication</h3>

<p>Text communication is hard.
It is often taken more negative than intended.
Be mindful of that.</p>

<p>Try to take what your coworkers write in the most positive way possible.</p>

<p>Try to be careful with your own written communication.
It sounds ridiculous but emojis can help make you look like less of a jerk and set a friendly tone.</p>

<p>Don&rsquo;t hesitate to jump on a video or voice call with someone (or a group).
Video is a much higher quality interaction than voice and both are much higher quality than text.
The downside is the communication isn&rsquo;t persistent so be sure to write down outcomes of conversations.</p>

<h3>Sync up with your team</h3>

<p>Try to sync up with your team (if you don&rsquo;t have a team, sync up with someone else from the company) at a regular interval.
This should probably be at least once every couple days but it can be more regularly.
I usually once a day.</p>

<p>It can be easy to feel like an island when you are part of a remote group.
Regular sync-ups help reduce that feeling.</p>

<h3>Collaborate remotely</h3>

<p>Most video conference software allows you to share your screen with others.
Some of them even allow others to take control of your machine or treat your screen as a whiteboard.</p>

<p>Take advantage of these features.
After learning how to use them, these features can often make remote collaboration as productive as in-person collaboration.</p>

<p>Using technology, you can even <a href="/blog/2015/01/24/remote-pairing/">pair program</a> with someone from another city.</p>

<p>Google Docs is another great remote collaboration tool.
The best meetings I have been part of were meetings where every attendee was editing a shared Google Doc.</p>

<h3>Video Meetings</h3>

<p>When possible, have video meetings over voice only conference calls.
The addition of body language through video makes remote conversations much better.</p>

<p>You might want to introduce hand gestures for signaling during video meetings<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>.
On a former team, we had the practice of raising a finger<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup> when you wanted to speak.
This practice helped prevent people from interrupting and speaking over each other.
It also let quieter people jump into conversations easier.</p>

<p>As far as I can tell, <a href="http://zoom.us/">Zoom</a> is still the winner in terms of video conferencing.</p>

<p>I also recommend using a headset with dedicated microphone for talking through your computer.
The sound quality is usually better than using the built-in microphone.</p>

<h2>End</h2>

<p>It can be difficult to get good at working from home.
It is definitely a skill that is learned through experience and reflection.
If you have any questions about working remotely, feel free to reach out on <a href="https://twitter.com/jakemcc">twitter</a> or through <a href="mailto:jake@jakemccrary.com">email</a>.</p>

<p>Working from home can be a great experience.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>A desk can be any table that you can work on that is comfortable for a reasonable amount of time. It doesn&rsquo;t have to be what someone would typically think of as a desk.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>I used a table like this for years in college and when working an internship.<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>These are also useful for in-person meetings.<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p>No, not the middle finger.<a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/02/25/auto-syncing-a-git-repository/">Auto-syncing a git repository</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2020-02-25T21:09:00-06:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2020</span></span> <span class='time'>9:09 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m currently keep notes on my computer using plain text and <a href="https://orgmode.org/">Org mode</a>.</p>

<p>I keep my notes in a git repository in my home directory, <code>~/org/</code>.
I want my notes to be synced between my computers without me thinking about it.
Historically, I&rsquo;ve reached for something like Google Drive or Dropbox to do this but this time I reached for git and GitHub.</p>

<p>Below is the script that I ended up cobbling together from various sources found online.
The script pushes and pulls changes from a remote repository and works on my macOS and linux machines.</p>

<p>The loop starting on line 38 does the work.
Whenever a file-watcher notices a change or 10 minutes passes, the loop pulls changes from a remote repository, commits any local changes, and pushes to the remote repository.
The lines before this are mostly checking that needed programs exist on the host.</p>

<p>I keep this running in a background terminal and I check periodically to confirm it is still running.
I could do something fancier but this isn&rsquo;t a critical system and the overhead of checking every couple days is nearly zero.
Most of the time checking happens by accident when I accidentally maximize the terminal that runs the script.</p>

<p>I&rsquo;ve been using this script for a long time now and I&rsquo;ve found it quite useful. I hope you do too.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nb">set</span> -e
</span><span class='line'>
</span><span class='line'><span class="nv">TARGETDIR</span><span class="o">=</span><span class="s2">&quot;$HOME/org/&quot;</span>
</span><span class='line'>
</span><span class='line'>stderr <span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;$1&quot;</span> &gt;<span class="p">&amp;</span>2
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>is_command<span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="nb">command</span> -v <span class="s2">&quot;$1&quot;</span> <span class="p">&amp;</span>&gt;/dev/null
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$(uname)&quot;</span> !<span class="o">=</span> <span class="s2">&quot;Darwin&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>    <span class="nv">INW</span><span class="o">=</span><span class="s2">&quot;inotifywait&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">EVENTS</span><span class="o">=</span><span class="s2">&quot;close_write,move,delete,create&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">INCOMMAND</span><span class="o">=</span><span class="s2">&quot;\&quot;$INW\&quot; -qr -e \&quot;$EVENTS\&quot; --exclude \&quot;\.git\&quot; \&quot;$TARGETDIR\&quot;&quot;</span>
</span><span class='line'><span class="k">else</span> <span class="c"># if Mac, use fswatch</span>
</span><span class='line'>    <span class="nv">INW</span><span class="o">=</span><span class="s2">&quot;fswatch&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="c"># default events specified via a mask, see</span>
</span><span class='line'>    <span class="c"># https://emcrisostomo.github.io/fswatch/doc/1.14.0/fswatch.html/Invoking-fswatch.html#Numeric-Event-Flags</span>
</span><span class='line'>    <span class="c"># default of 414 = MovedTo + MovedFrom + Renamed + Removed + Updated + Created</span>
</span><span class='line'>    <span class="c">#                = 256 + 128+ 16 + 8 + 4 + 2</span>
</span><span class='line'>    <span class="nv">EVENTS</span><span class="o">=</span><span class="s2">&quot;--event=414&quot;</span>
</span><span class='line'>    <span class="nv">INCOMMAND</span><span class="o">=</span><span class="s2">&quot;\&quot;$INW\&quot; --recursive \&quot;$EVENTS\&quot; --exclude \&quot;\.git\&quot; --one-event \&quot;$TARGETDIR\&quot;&quot;</span>
</span><span class='line'><span class="k">fi</span>
</span><span class='line'>
</span><span class='line'><span class="k">for</span> cmd in <span class="s2">&quot;git&quot;</span> <span class="s2">&quot;$INW&quot;</span> <span class="s2">&quot;timeout&quot;</span><span class="p">;</span> <span class="k">do</span>
</span><span class='line'>    <span class="c"># in OSX: `timeout` =&gt; brew install coreutils</span>
</span><span class='line'>    <span class="c"># in OSX: `fswatch` =&gt; brew install fswatch</span>
</span><span class='line'>    is_command <span class="s2">&quot;$cmd&quot;</span> <span class="o">||</span> <span class="o">{</span> stderr <span class="s2">&quot;Error: Required command &#39;$cmd&#39; not found&quot;</span><span class="p">;</span> <span class="nb">exit </span>1<span class="p">;</span> <span class="o">}</span>
</span><span class='line'><span class="k">done</span>
</span><span class='line'>
</span><span class='line'><span class="nb">cd</span> <span class="s2">&quot;$TARGETDIR&quot;</span>
</span><span class='line'><span class="nb">echo</span> <span class="s2">&quot;$INCOMMAND&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">while</span> <span class="nb">true</span><span class="p">;</span> <span class="k">do</span>
</span><span class='line'>    <span class="nb">eval</span> <span class="s2">&quot;timeout 600 $INCOMMAND&quot;</span> <span class="o">||</span> <span class="nb">true</span>
</span><span class='line'><span class="nb">    </span>git pull
</span><span class='line'>    sleep 5
</span><span class='line'>    <span class="nv">STATUS</span><span class="o">=</span><span class="k">$(</span>git status -s<span class="k">)</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">[</span> -n <span class="s2">&quot;$STATUS&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>        <span class="nb">echo</span> <span class="s2">&quot;$STATUS&quot;</span>
</span><span class='line'>        <span class="nb">echo</span> <span class="s2">&quot;commit!&quot;</span>
</span><span class='line'>        git add .
</span><span class='line'>        git commit -m <span class="s2">&quot;autocommit&quot;</span>
</span><span class='line'>        git push origin
</span><span class='line'>    <span class="k">fi</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/01/11/reading-in-2019/">Reading in 2019</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2020-01-11T12:32:00-06:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2020</span></span> <span class='time'>12:32 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>At the beginning of every year I reflect on the previous year of reading.
I take a look at my records, fix errors, and think about reading goals for the upcoming year.</p>

<p>Here are links to my previous end-of-year reflections: <a href="/blog/2014/01/01/using-incanter-to-review-my-2013-reading/">2013</a>, <a href="/blog/2015/01/08/reading-in-2014/">2014</a>, <a href="/blog/2016/03/13/reading-in-2015/">2015</a>, <a href="/blog/2017/01/04/reading-in-2016/">2016</a>, <a href="/blog/2018/03/03/reading-in-2017/">2017</a>, and <a href="/blog/2019/01/21/reading-in-2018/">2018</a>.</p>

<p>I&rsquo;ve continued to keep track of my reading using <a href="http://goodreads.com">Goodreads</a>.
My <a href="https://www.goodreads.com/user/show/3431614-jake-mccrary">profile</a> has nearly the full list of the books I&rsquo;ve read since 2010.
<a href="https://www.goodreads.com/review/list/3431614-jake-mccrary?shelf=read_2019">This</a> is my 2019.</p>

<h2>2019 Goal</h2>

<blockquote><p>I have a stack of software and process books and I&rsquo;d like to read through at least some of them (others are more reference books). I&rsquo;m also going to bring over the 2018 goal of reading at least one book on writing. In a more general sense, I&rsquo;m hoping to put some practices together that help me gain more from the books I&rsquo;m reading. I&rsquo;m still thinking through what that means. - Me last year</p></blockquote>

<p>That was my goal for 2019.
In list form it looks like this:</p>

<ol>
<li>Read some software or process books</li>
<li>Read at least one book on writing</li>
<li>Try to develop practices for getting more from books I&rsquo;ve read</li>
</ol>


<p>I read eight books related to the first goal and two (or three if I count an iffy one) related to the second.
That is enough where I feel pretty good about claiming I accomplished the first two goals.</p>

<p>I mostly failed on the third goal.
I was more aggressive about highlighting notes in my Kindle and I did occasionally look back at them.
Beyond that I didn&rsquo;t do anything.</p>

<h2>Highlights</h2>

<p>Here are my five star books from 2019.
The titles are affiliate links to Amazon, so if you click one of those and make a purchase I get a small kickback<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</p>

<ul>
<li><a href="https://amzn.to/2QFelCv">Accelerate: Building and Scaling High-Performing Technology Organizations by Nicole Forsgren, Jez Humble, and Gene Kim</a> (<a href="https://www.goodreads.com/review/show/2411886698">my review</a>)</li>
<li><a href="https://amzn.to/39BjDHx">Elements of Clojure by Zachary Tellman</a> (<a href="https://www.goodreads.com/review/show/2684688658">my review</a>)</li>
<li><a href="https://amzn.to/2FdqV6n">A Tour of C++ by Bjarne Stroustrup</a> (<a href="https://www.goodreads.com/review/show/2822201641">my review</a>)</li>
<li><a href="https://amzn.to/2N5mLSL">Developer Hegemony: The Future of Labor</a> (<a href="https://www.goodreads.com/review/show/2795008954">my review</a>)</li>
<li><a href="https://amzn.to/2MPwOed">Digital Minimalism: Choosing a Focused Life in a Noisy World by Cal Newport</a></li>
<li><a href="https://amzn.to/2QGW1Ja">Effective Java by Joshua Bloch</a> (<a href="https://www.goodreads.com/review/show/2701581699">my review</a>)</li>
<li><a href="https://amzn.to/2rOgd3g">21 Lessons for the 21st Century by Yuval Noah Harari</a> (<a href="https://www.goodreads.com/review/show/2562286276">my review</a>)</li>
<li><a href="https://amzn.to/2toADQZ">Draft No. 4: On the Writing Process by John McPhee</a> (<a href="https://www.goodreads.com/review/show/2300752363">my review</a>)</li>
<li><a href="https://amzn.to/2MPuAeO">The Push: A Climber&rsquo;s Journey of Endurance, Risk and Going Beyond Limits by Tommy Caldwell</a> (<a href="https://www.goodreads.com/review/show/2200390288">my review</a>)</li>
<li><a href="https://amzn.to/2rONP0V">The Nickel Boys by Colson Whitehead</a></li>
<li><a href="https://amzn.to/37sUGMK">The Great Believers by Rebecca Makkai</a> (<a href="https://www.goodreads.com/review/show/3020415147">my review</a>)</li>
<li><a href="https://amzn.to/2tr2eRi">The Bonfire of the Vanities by Tom Wolfe</a> (<a href="https://www.goodreads.com/review/show/2847590304">my review</a>)</li>
<li><a href="https://amzn.to/2tljYOf">The Paper Menagerie and Other Stories by Ken Liu</a> (<a href="https://www.goodreads.com/review/show/1827462108">my review</a>)</li>
<li><a href="https://amzn.to/36kyAvO">Exhalation: Stories by Ted Chiang</a> (<a href="https://www.goodreads.com/review/show/2804306157">my review</a>)</li>
<li><a href="https://amzn.to/36lAZGn">Golden Son (Red Rising, #2) by Pierce Brown</a></li>
<li><a href="https://amzn.to/2ZLAdjz">Morning Star (Red Rising Saga, #3) by Pierce Brown</a></li>
<li><a href="https://amzn.to/36fNKlU">Iron Gold (Red Rising Saga, #4) by Pierce Brown</a> (<a href="https://www.goodreads.com/review/show/2760320870">my review</a>)</li>
<li><a href="https://amzn.to/36mab95">Dark Age (Red Rising Saga #5) by Pierce Brown</a></li>
<li><a href="https://amzn.to/2MPkjQ1">Animal Farm by George Orwell</a> (<a href="https://www.goodreads.com/review/show/2811868686">my review</a>)</li>
</ul>


<h4>Accelerate: Building and Scaling High-Performing Technology Organizations by Nicole Forsgren, Jez Humble, and Gene Kim</h4>

<p>This is a stellar book on practices of technology organizations that help build high performing companies.
If you work at a company that produces software in any capacity, I&rsquo;d highly recommend this book.
This is a book that I&rsquo;ve recommended to any coworker looking, and some not looking, for book recommendations.</p>

<h4>Elements of Clojure by Zachary Tellman</h4>

<p>This book has Clojure in the title but it is applicable to more than that language.
The book was published a section at a time and as a result I&rsquo;ve read parts of it many times.
The content clearly shows that Zach has put a lot of thought into the topic.</p>

<h4>A Tour of C++ by Bjarne Stroustrup</h4>

<p>I&rsquo;ve written C++ off and on since I started programming nearly 20 years ago.
Over those years, I&rsquo;ve seen C++ transform as new versions were released.
Earlier in 2019, I was starting to write C++ again and this book was recommended by a coworker.
I had last written C++ back in 2013 and this book was a perfect way to refresh my stuck in early 2013 knowledge.
There is no fluff in this book and it is full of useful information.</p>

<h4>Developer Hegemony: The Future of Labor</h4>

<p>This is a tough read.
It isn&rsquo;t tough because of difficult writing.
It is tough because it makes you depressed until you power through and reach the end.</p>

<p>This book delivers a very cynical look at corporations.
It provides guidelines for getting ahead and climbing the corporate ladder.</p>

<p>Then the book promotes an alternative approach, that of doing your own thing and going independent.
It makes a good case of it.</p>

<p>Beware of this one, it might make you question what you are doing with your career and life.</p>

<h4>Digital Minimalism: Choosing a Focused Life in a Noisy World by Cal Newport</h4>

<p>There is a common theme of awareness throughout many of the books I read and this book hits that theme.
This book can help you become a more thoughtful user of technology.
There are many useful recommendations in this book.
One of them is the suggestion that you can use social media and other technology differently than how the creators want you to use it.
In 2019 I wrote about how I use <a href="/blog/2019/04/30/how-i-use-social-media/">social media</a> which shows how I apply this idea.</p>

<h4>Effective Java by Joshua Bloch</h4>

<p>I&rsquo;ve read earlier editions in the past and decided to read the latest edition when it seemed like I&rsquo;d be writing Java again.
This book is still good and a must read if you work with Java.</p>

<h4>21 Lessons for the 21st Century by Yuval Noah Harari</h4>

<p>This book covers a lot of ground.</p>

<p>Here is a quote from my friend <a href="https://twitter.com/deobald">Steven Deobald</a> about this book.</p>

<blockquote><p>Through stories and anecdotes woven into his almost unbelievably extensive research as a historian, &ldquo;21 Lessons&rdquo; is perhaps as entertaining and insightful as any other book I&rsquo;ve read. It is accessible to anyone and the ideas presented regarding the fate of our species are stitched together beautifully. The arc of the 21 chapters has a progressive, almost orchestral, quality to it. Each chapter builds on all those which precede it and although some chapters have surprisingly variable writing styles, none feels like Harari is attempting to showboat or to force his medium into the overly artistic.</p></blockquote>

<h4>Draft No. 4: On the Writing Process by John McPhee</h4>

<p>This was a pleasure to read.
I like reading books about writing and this is a good one that talks about McPhee&rsquo;s approach towards creative non-fiction.</p>

<h4>The Push: A Climber&rsquo;s Journey of Endurance, Risk and Going Beyond Limits by Tommy Caldwell</h4>

<p>What can I say?
I&rsquo;m a sucker for books on climbing and learning more about the icons of the sport I love.
If you&rsquo;ve watched the movie <a href="https://www.imdb.com/title/tt7286916/">The Dawn Wall</a> then some of this will be familiar to you.</p>

<h4>The Nickel Boys by Colson Whitehead</h4>

<p>This is a great book.
Go read the <a href="https://www.goodreads.com/book/show/42270835-the-nickel-boys">Goodreads</a> page and pick it up.</p>

<h4>The Great Believers by Rebecca Makkai</h4>

<p>A friend of mine gave me a copy of this book and I&rsquo;m glad she did.
It tells the story of the AIDs epidemic in Chicago.
This is a great piece of writing.
I&rsquo;m not surprised at all that it has won many awards.</p>

<h4>The Bonfire of the Vanities by Tom Wolfe</h4>

<p>This book is great.
The satire just drips off the pages.
There are passages in this book where you can just <em>feel</em> the anxiety of the characters.</p>

<p>Every character is despicable and it is wonderful.</p>

<h4>The Paper Menagerie and Other Stories by Ken Liu</h4>

<p>This was my second time reading this book.
It is an excellent collection of short stories.</p>

<p>The first time I read this book, in <a href="/blog/2017/01/04/reading-in-2016/">2016</a>, I read the stories in order.
This time I took advantage of the Kindle&rsquo;s estimate of how long a chapter would take and I jumped around, picking out stories that fit how long I wanted to read.
Both ways of reading this collection were excellent.</p>

<h4>Exhalation: Stories by Ted Chiang</h4>

<p>I absolutely loved Ted Chiang&rsquo;s <em>Stories of Your Life and Others</em> and was excited when this collection of stories was published.
I had high hopes for this collection and I was not disappointed.</p>

<p>Some of the stories I had read prior to them being included in this collection but that didn&rsquo;t matter.
I enjoyed reading the new stories and revisiting the previously published ones.</p>

<blockquote><p>We don’t normally think of it as such, but writing is a technology, which means that a literate person is someone whose thought processes are technologically mediated. We became cognitive cyborgs as soon as we became fluent readers, and the consequences of that were profound.</p></blockquote>

<p>That is a quote from a story in this collection.
It felt right to include it in an article about reading.</p>

<h4>Golden Son, Morning Star, Iron Gold, and Dark Age by Pierce Brown</h4>

<p>The four titles above are books two through five in Pierce Brown&rsquo;s <em>Red Rising</em> saga.
I also read the first book in the series, Red Rising, in 2019 but it only earned a four star rating from me.
I obviously enjoyed this series and devoured it.</p>

<p>The books tell the story of a world full of inequality.
The world created is full of interesting characters and dilemmas.</p>

<h4>Animal Farm by George Orwell</h4>

<p>This was either my second or third time reading Animal Farm.
It is still good.
Reading it in 2019 and mapping in book behavior to the modern political climate was interesting.</p>

<h3>Non-Five Star highlights</h3>

<ul>
<li><a href="https://amzn.to/2QFFkz5">Irresistible: The Rise of Addictive Technology and the Business of Keeping Us Hooked by Adam Alter</a> (<a href="https://www.goodreads.com/review/show/1966643946">my review</a>)</li>
<li><a href="https://amzn.to/2FDh9e1">Permanent Record by Edward Snowden</a> (<a href="https://www.goodreads.com/review/show/2983575511">my review</a>)</li>
<li><a href="https://amzn.to/2N9YYRC">Atonement by Ian McEwan</a> (<a href="https://www.goodreads.com/review/show/1697924044">my review</a>)</li>
<li><a href="https://amzn.to/2sRX9Sp">I Hear You by Michael S. Sorensen</a> (<a href="https://www.goodreads.com/review/show/2923747300">my review</a>)</li>
<li><a href="https://amzn.to/2t64fCF">Recursion by Blake Crouch</a> (<a href="https://www.goodreads.com/review/show/2923743967">my review</a>)</li>
<li><a href="https://amzn.to/2NedZBE">Version Control by Dexter Palmer</a> (<a href="https://www.goodreads.com/review/show/1827462266">my review</a>)</li>
</ul>


<h4>Irresistible: The Rise of Addictive Technology and the Business of Keeping Us Hooked by Adam Alter</h4>

<p>Yet another book that is at least somewhat about awareness.
This book talks about behavioral addiction but not just addictive technology.</p>

<p>Is it the single book out of the handful of books I&rsquo;ve read in this space that I&rsquo;d recommend?
No, but it is a good addition to my collection on the topic.</p>

<h4>Permanent Record by Edward Snowden</h4>

<p>I consider myself fairly knowledgeable about Snowden and what he did but I still learned more through this book.
One part I particularly enjoyed was Snowden reflecting on what has changed since his actions.</p>

<p>Another part I particularly enjoyed was Snowden&rsquo;s telling of the early Internet.
This was an Internet where identities online weren&rsquo;t necessarily tied to a real one.
I&rsquo;m approximately the same age as Snowden and had similar experiences with being a young person during the early Internet days.
It was interesting to be reminded of that time while reading this book.</p>

<p>I <a href="https://www.goodreads.com/notes/49833241-permanent-record/3431614-jake-mccrary?ref=bsop">highlighted</a> a lot of passages and there are probably more I should have highlighted.</p>

<h4>Atonement by Ian McEwan</h4>

<p>This book was so close to being five stars.
I started reading this book because I mistook the title for that of a science fiction book I&rsquo;ve been intending to read.
I&rsquo;m glad I did.</p>

<p>It took me a little while to get into the book but once I did I was hooked.</p>

<p><a href="https://www.goodreads.com/review/show/1697596771?book_show_action=false">Here</a> is a review from one of my friends that captures some of what I felt about this book.</p>

<h4>I Hear You by Michael S. Sorensen</h4>

<p>It provides some guidance towards being a more validating person.
The book is short and to the point.
I&rsquo;ve managed to take some of its advice and I think it has been useful.</p>

<h4>Recursion by Blake Crouch</h4>

<p>This was really good.
It is action packed and an interesting concept.</p>

<h4>Version Control by Dexter Palmer</h4>

<p>I really enjoy this book.
It tells the story of a relationship with bits of science fiction.
I really enjoyed my friend <a href="https://www.goodreads.com/review/show/2240581079?book_show_action=false">Dan&rsquo;s</a> review.</p>

<h2>Stats</h2>

<p>The page count numbers for 2019 books are a bit screwed up so I&rsquo;m only doing a books per month graph this year.</p>

<p><img src="/images/reading-by-month-2019.svg" title="Number of books in each month" alt="Book and pages count by month" /></p>

<p>Unsurprisingly, electronic books continue to be the dominate format.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>|           | 2019 | 2018 | 2017 | 2016 | 2015 |
</span><span class='line'>|-----------+------+------+------+------+------|
</span><span class='line'>| ebook     |   43 |   37 |   37 |   56 |   47 |
</span><span class='line'>| hardcover |    1 |    1 |    7 |    0 |    1 |
</span><span class='line'>| paperback |    7 |    5 |    5 |    3 |    3 |</span></code></pre></td></tr></table></div></figure>


<p>This year I read a noticeably higher amount of non-fiction books than in 2018.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>|             | 2019 | 2018 |
</span><span class='line'>|-------------+------+------|
</span><span class='line'>| fiction     |   28 |   29 |
</span><span class='line'>| non-fiction |   23 |   14 |</span></code></pre></td></tr></table></div></figure>


<h2>2020 Goals</h2>

<p>I was encouraged by how many non-fiction books I read this year and how many of them ended up earning a five star rating.
I&rsquo;d like to continue that trend of reading high-quality non-fiction books.</p>

<p>I&rsquo;ve also been reading a lot of books but I haven&rsquo;t always been the best at trying to consciously apply the lessons from those books.
I&rsquo;m going to try to improve that this year.</p>

<p>Those are pretty fuzzy goals but I&rsquo;m alright with that.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>I&rsquo;m not really sure why I bother doing this. I&rsquo;d write these posts without this incentive and I think my lifetime earnings are maybe in the double digits.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/10/12/building-an-atreus-keyboard/">Building an Atreus keyboard</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2019-10-12T15:43:00-05:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2019</span></span> <span class='time'>3:43 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>I recently built an <a href="https://atreus.technomancy.us">Atreus keyboard</a>.
This keyboard is an extremely small keyboard with only 42 keys.
Below is the photo of my result.</p>

<p><img src="/images/atreus/atreus-done.jpg" alt="My completed Atreus keyboard" /></p>

<p>As you can see, it has a split layout and the keys are aligned vertically and staggered.
Thanks to using Ergodox keyboards since 2014, I&rsquo;m very used to this key layout and find it superior to traditional keyboards.</p>

<p>The keyboard is very small.
To give you an idea of how small it is, here is a photo of it next to one of my Ergodox keyboards and with a bit of my fingers in the shot.</p>

<p><img src="/images/atreus/atreus-with-ergodox.jpg" alt="Atreus size comparison" /></p>

<p>Building the keyboard was pretty straight forward.
The included instructions are thorough and include plenty of photos.
All of the components are through-hole so the soldering is not difficult.
This would be a good first keyboard project.</p>

<p>I already had USB cable, key switches, key caps, and a micro-controller so I purchased the partial kit from Phil.
It came with everything else, except for something to coat the wood, that you need to build the keyboard.
I wanted to connect the keyboard to USB C ports, so I used a <a href="https://amzn.to/2IJqItO">micro to USB C cable</a>.</p>

<p>I enjoyed the color of the laser cut wood and appreciated the burn marks.
I didn&rsquo;t want to lose the color or burns so I coated the wood with a water based clear polyurethane with a satin finish.
This was probably the most difficult part of the build, and it was pretty easy, simply because I lack experience finishing wood.</p>

<p>When reading other build logs I noticed that someone else put a zip tie on their USB cable to help prevent it from tugging on the micro-controller.
I have no idea how helpful this is but it seemed like a good thing to do so I also did it.
To do this you basically just wrap the cable with a zip tie and cram it against the case so that the zip tie prevents tugging on the micro-controller.
You can see it in the picture below.</p>

<p><img src="/images/atreus/atreus-inside-zip-tie.jpg" alt="My completed Atreus keyboard" /></p>

<p>I&rsquo;ve only been typing on the keyboard for basically this blog post but I&rsquo;ve already found myself adapting to it pretty quickly.
I don&rsquo;t intend for it to replace my Ergodox for normal usage but I think it will be a great portable keyboard.</p>

<p>Overall it was a fun project and I&rsquo;m glad I did it.
I look forward to customizing the firmware to make the key layout fit my usage.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/08/23/building-a-onewheel-stand/">Building a Onewheel stand</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2019-08-23T20:34:00-05:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2019</span></span> <span class='time'>8:34 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve owned a <a href="https://onewheel.com/products/xr">Onewheel XR</a> for about a year now. It is a one-wheeled electric skateboard-like device that is super fun for zipping around Chicago.</p>

<p>When I first got it, I purchased a <a href="https://amzn.to/31Z39Ez">small guitar stand</a>. It worked but it was always a bit finicky and I was never satisfied with it. I had to sit the Onewheel on it just right to have it stay on it without causing the legs of the stand to spread too wide.</p>

<p>This resulted in me buying a <a href="https://amzn.to/2NrrGOI">second guitar stand</a> and trying that out. This one was even worse.</p>

<p>I grew frustrated with these non-purpose built stands and started looking into purchasing a Onewheel stand. There are plenty of beautiful stands out there, both officially from <a href="https://onewheel.com/collections/onewheel-xr-accessories/products/onewheel-deep-shack-rack">Future Motion</a> and from third party vendors like <a href="https://float-supply.com/product-category/stands/">The Float Life</a>.</p>

<p>Then I remembered that my old coworker, Tom Marsh, built his own and put the <a href="https://www.thingiverse.com/thing:3682716">plans online</a>. This inspired me to go the DIY route.</p>

<p>I thought that a stand made out of pipe would look pretty good and be easy to construct. It also gave me a good excuse to ride my Onewheel to Home Depot.</p>

<p>I explored the plumbing section of Home Depot and bought a variety of pipe and pipe fittings and took them back home to experiment with putting them together.</p>

<p>I ended up building the stand below.</p>

<p><img src="/images/onewheel-pipe-stand.jpg" title="Onewheel pipe stand" alt="onewheel pipe stand" /></p>

<p><img src="/images/onewheel-in-pipe-stand.png" title="Onewheel in pipe stand" alt="onewheel in pipe stand" /></p>

<p>I think the above stand looks great and it was easy to build.</p>

<p>Here is the part list:</p>

<ul>
<li>2 &frac12; inch x 8 inch nipple</li>
<li>1 &frac12; inch x 6 inch nipple</li>
<li>2 &frac12; inch x 3 inch nipple</li>
<li>2 &frac12; inch 90 degree elbow</li>
<li>2 &frac12; inch 3-way side outlet</li>
<li>2 &frac12; inch cap</li>
</ul>


<p>I washed off the black coating using Goo Gone and then assembled the stand. This ups the risk of rust but I think that might actually look cool so I&rsquo;m not too worried about it. You could optionally coat the pipes for some protection.</p>

<p>Once you have the parts the assembly is very straight forward. The only additional work I might do is to put some rubber feet on the bottom to prevent scratches to my floor.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/08/15/switching-my-ergodox-to-qmk-firmware/">Switching my Ergodox to QMK firmware</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2019-08-15T19:07:00-05:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2019</span></span> <span class='time'>7:07 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>Last fall I started to work in an office again. I&rsquo;ve used a hand-built Ergodox for years now and really prefer working on it. This meant I needed another ergodox for the office. Luckily, now you don&rsquo;t have to build your own. I bought an <a href="https://ergodox-ez.com">Ergodox EZ</a><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</p>

<p>The Ergodox EZ uses the <a href="https://github.com/qmk/qmk_firmware">QMK</a> firmware. This has a lot of fancier options than the firmware I had been using on my hand-built ergodox.</p>

<p>This mostly didn&rsquo;t matter and I just configured the Ergodox EZ to match my original Ergodox&rsquo;s layout. Then I started a new job and found myself programming in Scala using IntelliJ IDEA.</p>

<p>Shockingly, after not using IntelliJ for years, I still remembered many of the keyboard shortcuts. This was great! Unfortunately, in my years since last using IntelliJ, I created some conflicting keyboard shortcuts for managing my window layout. These were mostly shortcuts that involved holding Command + Alt and pushing an arrow key. Luckily, the QMK firmware supports a <em>Meh</em> key.</p>

<p>What is the <em>Meh</em> key? It is a key that presses Control + Alt + Shift all at the same time.</p>

<p>This is great for setting up shortcuts that don&rsquo;t conflict with ones found in most normal programs. This let me <a href="https://github.com/jakemcc/cljs-phoenix/commit/fa2186589d99a4763c7bf79e1f795cb910063a4e">change my window manger</a> shortcuts to use the <em>Meh</em> key and I was then conflict free.</p>

<p>I can&rsquo;t handle having different shortcuts across different machines with the same OS, so I needed to needed to update my original Ergodox to use the QMK firmware so I could also have a <em>Meh</em> key at home. Luckily, the QMK firmware also works on it and, maybe even more luckily, the Ergodox EZ firmware just works with my original Ergodox.</p>

<p>This actually means I can simply take the compiled Ergodox EZ firmware and flash it straight to my Ergodox. Any time I&rsquo;ve done this the keyboard keeps working.</p>

<p>Unfortunately, the LEDs in my original Ergodox are mostly hidden by non-translucent keys. These LEDs indicate when I&rsquo;m not main layer and I find them really useful. I only have a single translucent keycap and would prefer only that LED to be used.</p>

<p>Here are the steps I took to make that change.</p>

<ol>
<li>Use the <a href="https://config.qmk.fm/#/ergodox_ez/LAYOUT_ergodox">graphical QMK Configurator</a> to visually configure my keyboard layout. In the <strong>Keymap Name</strong> field, put <code>jakemcc</code>.</li>
<li>Click the <strong>Compile</strong> button in the above configurator.</li>
<li>Download the full source.</li>
<li>Unzip the source and edit <code>qmk_firmware/keyboards/ergodox_ez/keymaps/jakemcc/keymap.c</code> to include snippet of code below this list.</li>
<li>In <code>qmk_firmware</code> run <code>make ergodox_ez:jakemcc</code>.</li>
<li>Find <code>ergodox_ez_jakemcc.hex</code> and flash my original Ergodox.</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">uint32_t</span> <span class="nf">layer_state_set_user</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">state</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">biton32</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">ergodox_right_led_1_off</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">ergodox_right_led_1_on</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">state</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This snippet gets added to the bottom of the <code>keymap.c</code>. It only turns on led 1, which is the one under my translucent key, whenever my keyboard isn&rsquo;t on layer 0.</p>

<p>Now, I can use the fancy <em>Meh</em> key to be conflict free and easily tell when I&rsquo;m not on my main layer. This is wonderful.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>I bought one with Cherry MX Clear switches. I&rsquo;ve since switched them to Cherry MX Browns. The clears were too firm for me. I did not get Cherry MX Blues because I didn&rsquo;t want my fellow coworkers to be annoyed by the glorious clickty-clack of those switches.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/04/30/how-i-use-social-media/">How I use social media</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2019-04-30T17:50:00-05:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2019</span></span> <span class='time'>5:50 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>Over the years, I&rsquo;ve read many articles about the negative aspects of social media. You&rsquo;ve probably read articles extolling the benefits of cutting social media out of your life. These articles are abundant and easy to find through a search for <a href="https://www.google.com/search?q=stop+social+media">&ldquo;stop social media&rdquo;</a> or <a href="https://www.google.com/search?q=quit+social+media">&ldquo;quit social media&rdquo;</a>.</p>

<p>Social media hasn&rsquo;t played a significant role in my life for a couple of years. I first started being more mindful of how I consumed social media in 2013. Back then, I temporarily switched to using a <a href="https://en.wikipedia.org/wiki/Feature_phone">feature phone</a> (a non-smart phone) for a month and a half. This really reset my relationship with consuming media on a phone. Since my phone was my primary entry point into Twitter and Facebook, my usage of both plummeted.</p>

<p>Since then, I&rsquo;ve continued to take a careful look at how I use social media and have made tweaks to get maximum enjoyment with minimal downsides. This has involved changing how I use the desktop web applications for both Twitter and Facebook<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>.</p>

<p>The following books have helped shape my thinking towards digital distractions. They&rsquo;ve put into words some of the practices I stumbled into. They&rsquo;ve affected how I use smart phones and how I approach social media.</p>

<ul>
<li><a href="https://amzn.to/2UJu1V7">Deep Work</a> by Cal Newport</li>
<li><a href="https://amzn.to/2WfLYMv">Digital Minimalism</a> by Cal Newport</li>
<li><a href="https://amzn.to/2XX6imC">Essentialism</a> by Greg Mckeown</li>
<li><a href="https://amzn.to/2WgdBVR">The Distracted Mind</a> by Adam Gazzaley &amp; Larry D. Rosen</li>
</ul>


<p>One of the ideas in both <em>Digital Minimalism</em> and <em>Essentialism</em> is that you can pick and choose what you add to your life. This extends to individual features of products you use. This is something I arrived at prior to reading these books and it was nice hearing others putting this idea into words.</p>

<p>Below is how I&rsquo;ve chosen to use various social media platforms.</p>

<h2>Twitter</h2>

<p>I only consume Twitter on my computer and I read it through <a href="https://tweetdeck.twitter.com/">Tweetdeck</a>.</p>

<p>I don&rsquo;t check my entire feed. Instead, I have Tweetdeck setup to display a few curated lists of accounts along with mentions and direct messages. One list is composed of close friends, another highlights some people in the software development space, and another contains some Twitter art projects.</p>

<p>Because I focus on a limited number of accounts, I don&rsquo;t have an infinite list to scroll through. This focus keeps Twitter useful to me and allows me to check it every few days and still stay up to date on topics I care about.</p>

<p>I rarely tweet but when I do it is usually to promote my own or another person&rsquo;s writing. I also occasionally tweet as an <a href="https://twitter.com/ErowidBobRoss">art bot</a>.</p>

<h2>Facebook</h2>

<p>I only consume Facebook on my computer and mostly stopped using the website in 2016. The 2016 US presidential election made me realize I didn&rsquo;t find the Facebook news feed useful. It did not add positive value to my life.</p>

<p>That is when I found the <a href="https://chrome.google.com/webstore/detail/news-feed-eradicator-for/fjcldmjmjhkklehbacihaiopjklihlgg?hl=en">News Feed Eradicator</a> Chrome extension. This extension gets rid of the news feed. It is great.</p>

<p>Without the news feed, I no longer open the site and mindlessly scroll through the firehose of updates. I no longer know what is going on in the curated lives of my friends that still use Facebook. That is ok. Now when I run into them in real life, I can catch up and learn about their kids and their lives. I can have an honest reaction to learning that someone got married instead of sort of already knowing it. Someone can tell me about a trip they took and can show me photos I&rsquo;ve never seen before.</p>

<p>I haven&rsquo;t completely deleted my Facebook account because it does add value to my life through a couple of groups and Facebook messenger. Only using these features has reduced the frequency I visit Facebook to once every few days. That is more than enough to keep up with what is going in in the Chicago climbing community and events going on at local climbing gyms.</p>

<p>I rarely post to Facebook but when I do it is often to promote something I&rsquo;ve written.</p>

<h2>Goodreads</h2>

<p>I&rsquo;m not really sure if Goodreads counts as a social media site. I use it to keep track books I want to read and books I&rsquo;ve already read. It isn&rsquo;t something that consumes any amount of my time mindlessly.</p>

<h2>LinkedIn</h2>

<p>I&rsquo;m not sure if you can consider my usage of LinkedIn to be actual usage. It mostly results in email in my inbox that almost immediately gets archived. It does keep me somewhat informed about what job opportunities are out there though recruiter outreach.</p>

<p>I very rarely post anything to LinkedIn.</p>

<h2>Instagram</h2>

<p>I&rsquo;ll completely admit that this is the social media platform that I waste time on. It is the only social media app on my phone and that increases how frequently I use it.</p>

<p>I signed up for Instagram in order to follow tattoo artists. This helped me learn what tattoo styles I enjoyed the most. This was a huge success and now I have a much better appreciation and eye for this art.</p>

<p>Eventually, my usage of Instagram expanded to follow some friends, local Chicago artists, and professional rock climbers. Following each of these groups is slightly beneficial but I&rsquo;m not sure if it is an overall positive impact compared to the temptation to fill downtime with Instagram scrolling.</p>

<p>I&rsquo;m approaching the point of deleting Instagram from my phone and experiencing that.</p>

<p>I post occasionally to Instagram both using the story feature and normal posts. These are usually photos of some street art or stickers put up in Chicago. It is very infrequent.</p>

<h1>End</h1>

<p>So that is how I consume social media. It mostly happens on my computer and I use a subset of features a platform offers. I&rsquo;ve reached a point where I feel like I&rsquo;m getting a lot of the pros without too many of the cons.</p>

<p>It is an area in which I&rsquo;ll keep experimenting. I&rsquo;d encourage you to as well. Try a different usage pattern for an extended period of time and then reflect on your changed behavior. Keep the changes that have made a positive impact.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>Ignoring LinkedIn and Goodreads, I think Facebook and Twitter were the only social media platforms I used back then.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/03/20/breaking-change-and-more-in-lein-test-refresh-0-dot-24-dot-0/">Breaking change and more in lein-test-refresh 0.24.1</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2019-03-20T21:30:00-05:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2019</span></span> <span class='time'>9:30 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>Today I released <a href="https://github.com/jakemcc/lein-test-refresh">lein-test-refresh</a> <code>0.24.1</code><sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>. I don&rsquo;t always announce new lein-test-refresh versions with an article but this release breaks some existing behavior so I thought it was worth it.</p>

<p>Each of these changes is the direct result of interacting with four different <code>lein-test-refresh</code> users. Some of this took place on GitHub and others through email. Thanks to all of you for taking the time to think about improvements and notice oddities and bring them to my attention.</p>

<h3>Breaking change: Monitoring keystrokes to perform actions</h3>

<p>Prior to this release, if you hit Ctrl-D then STDIN reads an EOF and <code>test-refresh</code> would quit. With version 0.24.1, <code>test-refresh</code> no longer does that. Instead, it stops monitoring for input and just keeps running tests. Since it stops monitoring for input it no longer notices when you hit Enter to cause your tests to rerun. You can still stop <code>lein test-refresh</code> by sending a SIGINT with Ctrl-C.</p>

<p>This change was made because there is some combination of environments where if <code>test-refresh</code> execs <code>/bin/bash</code> then it receives an EOF on STDIN. Before this change, that means <code>test-refresh</code> would quit unexpectedly. Now it will keep going.</p>

<p>Thanks <a href="https://github.com/cloojure">Alan Thompson</a> for bringing this to my attention and taking the time to help diagnose the problem.</p>

<h3>You can supply your own narrowing test selector</h3>

<p>Being able to tell <code>test-refresh</code> to narrow its focus by adding <code>:test-refresh/focus</code> as metadata on a test or namespace has quickly become a favorite feature of many users. Now you can configure a shorter keyword by specifying configuration in your profile. See the <a href="https://github.com/jakemcc/lein-test-refresh/blob/1b5165660d9e40d9394809a95b148ec758a6d56b/sample.project.clj#L61-L65">sample project.clj</a> for how to set this up.</p>

<p>Thanks <a href="https://github.com/metametadata">Yuri Govorushchenko</a> for the suggestion.</p>

<h3>Experimental: Run in a repl</h3>

<p>I&rsquo;ve turned down this feature in the past but a narrower request came up and I thought it seemed useful. <code>test-refresh</code> now exposes a function you can call in a repl to run <code>test-refresh</code> in that repl. This makes the repl useless for any other task. To do this, first add <code>lein-test-refresh</code> as a dependency instead of a plugin to your project.clj. Then, require the namespace and call the function passing in one or more paths to your test directories. Example below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="nv">user=&gt;</span> <span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;com.jakemccrary.test-refresh</span><span class="p">)</span>
</span><span class='line'><span class="nv">nil</span>
</span><span class='line'><span class="nv">user=&gt;</span> <span class="p">(</span><span class="nf">com.jakemccrary.test-refresh/run-in-repl</span> <span class="s">&quot;test&quot;</span><span class="p">)</span>
</span><span class='line'><span class="nv">*********************************************</span>
</span><span class='line'><span class="nv">***************</span> <span class="nv">Running</span> <span class="nv">tests</span> <span class="nv">***************</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="https://github.com/jakemcc/lein-test-refresh/issues/80">This request</a> was done so that you can run it in Cursive&rsquo;s repl and gain the ability to click on stacktraces. Thanks <a href="https://github.com/klauswuestefeld">Klaus Wuestefeld</a> for bringing this up again with a really solid and focused use case.</p>

<h3>Better output on exceptions while reloading</h3>

<p>This was a <a href="https://github.com/jakemcc/lein-test-refresh/pull/81">pull request</a> from <a href="https://github.com/minhtuannguyen">Minh Tuan Nguyen</a>. Now figuring out where to look for the error will be a little easier.</p>

<h2>Thank you</h2>

<p>Thanks to all the users of lein-test-refresh. I&rsquo;ve found it to be very valuable to the way I work and I&rsquo;m very happy that others do as well.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>This was originally 0.24.0 but that had a bug in it. Sorry about that.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/02/13/testing-asynchronous-javascript-with-jasmine/">Testing asynchronous JavaScript with Jasmine</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2019-02-13T17:46:00-06:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2019</span></span> <span class='time'>5:46 pm</span></time>
      </p>
    
  </header>


  <div class="entry-content"><p>I was recently adding a feature to an internal web UI that caught all unhandled JavaScript errors and reported them to the backend service. The implementation went smoothly with most of the effort spent figuring out how to test the code that was reporting the errors.</p>

<p>If the error reporting failed, I didn&rsquo;t want to trigger reporting another error or completely lose that error. I decided to log a reporting error to the console. I wanted to write a test showing that errors reporting errors were handled so that a future me, or another developer, didn&rsquo;t accidentally remove this special error handling and enable a never ending cycle of of reporting failed reporting attempts.</p>

<p>It took me a while to figure out how to do this. I searched the web and found various articles about using <a href="https://jasmine.github.io/">Jasmine</a> to do async tests. They were helpful but I also wanted to mock out a function, <code>console.error</code>, and assert that it was called. None of the examples I found were explicit about doing something like this. I forget how many different approaches I tried, but it took a while to figure out the below solution.</p>

<p>Here is the code I wanted to test.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">reportEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/report-event&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
</span><span class='line'>    <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;ui name&#39;</span><span class="p">,</span> <span class="p">...</span><span class="nx">event</span><span class="p">})</span>
</span><span class='line'>  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Problem reporting event:&#39;</span><span class="p">,</span> <span class="nx">e</span><span class="p">)});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>It takes an incoming <code>event</code> object and merges it with a default value and posts that to the backing service. <code>fetch</code> returns a Promise and the code handles errors by calling <code>catch</code> on it and logging.</p>

<p>Below is what I eventually came up with for testing the error handling feature of <code>reportEvent</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;reporting events&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;logs errors&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">spyOn</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">).</span><span class="nx">and</span><span class="p">.</span><span class="nx">callFake</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">).</span><span class="nx">toHaveBeenCalled</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">done</span><span class="p">();</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>    <span class="nx">spyOn</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;fetch&#39;</span><span class="p">).</span><span class="nx">and</span><span class="p">.</span><span class="nx">returnValue</span><span class="p">(</span><span class="nx">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="s1">&#39;error!&#39;</span><span class="p">));</span>
</span><span class='line'>    <span class="nx">reportEvent</span><span class="p">({</span><span class="nx">level</span><span class="o">:</span> <span class="s1">&#39;WARN&#39;</span><span class="p">,</span> <span class="nx">msg</span><span class="o">:</span> <span class="s1">&#39;ERROR!&#39;</span><span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>This uses <code>spyOn</code> to mock out <code>fetch</code> and <code>console.error</code>. The <code>fetch</code> call is told to return a rejected Promise. The <code>console.error</code> spy is a bit more interesting.</p>

<p>The <code>console.error</code> spy is told to call a fake function. That function asserts that the <code>console.error</code> spy has been called. More importantly, it also calls a <code>done</code> function. That <code>done</code> function is a callback passed to your test by Jasmine. Calling <code>done</code> signals that your async work is completed.</p>

<p>If <code>done</code> is never called then Jasmine will fail the test after some amount of time. By calling <code>done</code> in our <code>console.error</code> fake, we&rsquo;re able to signal to Jasmine that we&rsquo;ve handled the rejected promise.</p>

<p>You don&rsquo;t actually need the <code>expect(console.error).toHaveBeenCalled();</code> as <code>done</code> won&rsquo;t be called unless <code>console.error</code> has been called. If you don&rsquo;t have it though then Jasmine will complain there are no assertions in the test.</p>

<p>So there we have it, an example of using some of Jasmine&rsquo;s asynchronous test features with spies. I wish I had found an article like this when I started this task. Hopefully it saves you, and future me, some time.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog//2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2020/03/16/a-retrospective-format/">A retrospective format for remote or co-located teams</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/03/10/more-working-from-home-tips/">More working from home tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/02/25/auto-syncing-a-git-repository/">Auto-syncing a git repository</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/01/11/reading-in-2019/">Reading in 2019</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/10/12/building-an-atreus-keyboard/">Building an Atreus keyboard</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/08/23/building-a-onewheel-stand/">Building a Onewheel stand</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/08/15/switching-my-ergodox-to-qmk-firmware/">Switching my Ergodox to QMK firmware</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/04/30/how-i-use-social-media/">How I use social media</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/03/20/breaking-change-and-more-in-lein-test-refresh-0-dot-24-dot-0/">Breaking change and more in lein-test-refresh 0.24.1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/02/13/testing-asynchronous-javascript-with-jasmine/">Testing asynchronous JavaScript with Jasmine</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a href="/disclosure-policy">Disclosure Policy</a><br/>
  <a href="//www.iubenda.com/privacy-policy/509351" class="iubenda-nostyle iub-legal-only iubenda-embed" title="Privacy Policy">Privacy Policy</a><br/>
<script type="text/javascript">(function (w,d) {var loader = function () {var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0]; s.src = "//cdn.iubenda.com/iubenda.js"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener("load", loader, false);}else if(w.attachEvent){w.attachEvent("onload", loader);}else{w.onload = loader;}})(window, document);</script>
  Content licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.
</p>


</footer>
  


</body>
</html>
